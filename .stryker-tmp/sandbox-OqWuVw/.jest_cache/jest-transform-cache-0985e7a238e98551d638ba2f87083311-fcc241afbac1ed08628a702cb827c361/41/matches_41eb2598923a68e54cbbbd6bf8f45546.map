{"version":3,"names":["Object","defineProperty","exports","value","fuzzyMatches","getDefaultNormalizer","makeNormalizer","matches","assertNotNullOrUndefined","matcher","undefined","Error","concat","textToMatch","node","normalizer","normalizedText","toLowerCase","includes","toString","matchRegExp","Function","RegExp","String","_ref","arguments","length","_ref$trim","trim","_ref$collapseWhitespa","collapseWhitespace","text","replace","_ref2","match","test","global","lastIndex","console","warn"],"sources":["matches.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fuzzyMatches = fuzzyMatches;\nexports.getDefaultNormalizer = getDefaultNormalizer;\nexports.makeNormalizer = makeNormalizer;\nexports.matches = matches;\nfunction assertNotNullOrUndefined(matcher) {\n  if (matcher === null || matcher === undefined) {\n    throw new Error(\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions -- implicitly converting `T` to `string`\n    `It looks like ${matcher} was passed instead of a matcher. Did you do something like getByText(${matcher})?`);\n  }\n}\nfunction fuzzyMatches(textToMatch, node, matcher, normalizer) {\n  if (typeof textToMatch !== 'string') {\n    return false;\n  }\n  assertNotNullOrUndefined(matcher);\n  const normalizedText = normalizer(textToMatch);\n  if (typeof matcher === 'string' || typeof matcher === 'number') {\n    return normalizedText.toLowerCase().includes(matcher.toString().toLowerCase());\n  } else if (typeof matcher === 'function') {\n    return matcher(normalizedText, node);\n  } else {\n    return matchRegExp(matcher, normalizedText);\n  }\n}\nfunction matches(textToMatch, node, matcher, normalizer) {\n  if (typeof textToMatch !== 'string') {\n    return false;\n  }\n  assertNotNullOrUndefined(matcher);\n  const normalizedText = normalizer(textToMatch);\n  if (matcher instanceof Function) {\n    return matcher(normalizedText, node);\n  } else if (matcher instanceof RegExp) {\n    return matchRegExp(matcher, normalizedText);\n  } else {\n    return normalizedText === String(matcher);\n  }\n}\nfunction getDefaultNormalizer({\n  trim = true,\n  collapseWhitespace = true\n} = {}) {\n  return text => {\n    let normalizedText = text;\n    normalizedText = trim ? normalizedText.trim() : normalizedText;\n    normalizedText = collapseWhitespace ? normalizedText.replace(/\\s+/g, ' ') : normalizedText;\n    return normalizedText;\n  };\n}\n\n/**\n * Constructs a normalizer to pass to functions in matches.js\n * @param {boolean|undefined} trim The user-specified value for `trim`, without\n * any defaulting having been applied\n * @param {boolean|undefined} collapseWhitespace The user-specified value for\n * `collapseWhitespace`, without any defaulting having been applied\n * @param {Function|undefined} normalizer The user-specified normalizer\n * @returns {Function} A normalizer\n */\n\nfunction makeNormalizer({\n  trim,\n  collapseWhitespace,\n  normalizer\n}) {\n  if (!normalizer) {\n    // No custom normalizer specified. Just use default.\n    return getDefaultNormalizer({\n      trim,\n      collapseWhitespace\n    });\n  }\n  if (typeof trim !== 'undefined' || typeof collapseWhitespace !== 'undefined') {\n    // They've also specified a value for trim or collapseWhitespace\n    throw new Error('trim and collapseWhitespace are not supported with a normalizer. ' + 'If you want to use the default trim and collapseWhitespace logic in your normalizer, ' + 'use \"getDefaultNormalizer({trim, collapseWhitespace})\" and compose that into your normalizer');\n  }\n  return normalizer;\n}\nfunction matchRegExp(matcher, text) {\n  const match = matcher.test(text);\n  if (matcher.global && matcher.lastIndex !== 0) {\n    console.warn(`To match all elements we had to reset the lastIndex of the RegExp because the global flag is enabled. We encourage to remove the global flag from the RegExp.`);\n    matcher.lastIndex = 0;\n  }\n  return match;\n}"],"mappings":"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","ignoreList":[]}