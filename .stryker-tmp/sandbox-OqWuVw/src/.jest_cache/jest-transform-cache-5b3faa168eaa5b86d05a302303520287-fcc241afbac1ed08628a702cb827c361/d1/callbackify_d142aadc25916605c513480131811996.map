{"version":3,"names":["_utils","_interopRequireDefault","require","e","__esModule","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","n","callbackify","fn","reducer","utils","isAsyncFn","_len","arguments","args","_key","cb","pop","apply","then","value","concat","err","_default","exports"],"sources":["callbackify.js"],"sourcesContent":["import utils from \"../utils.js\";\n\nconst callbackify = (fn, reducer) => {\n  return utils.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n}\n\nexport default callbackify;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,mBAAAC,CAAA,WAAAC,kBAAA,CAAAD,CAAA,KAAAE,gBAAA,CAAAF,CAAA,KAAAG,2BAAA,CAAAH,CAAA,KAAAI,kBAAA;AAAA,SAAAA,mBAAA,cAAAC,SAAA;AAAA,SAAAF,4BAAAH,CAAA,EAAAM,CAAA,QAAAN,CAAA,2BAAAA,CAAA,SAAAO,iBAAA,CAAAP,CAAA,EAAAM,CAAA,OAAAE,CAAA,MAAAC,QAAA,CAAAC,IAAA,CAAAV,CAAA,EAAAW,KAAA,6BAAAH,CAAA,IAAAR,CAAA,CAAAY,WAAA,KAAAJ,CAAA,GAAAR,CAAA,CAAAY,WAAA,CAAAC,IAAA,aAAAL,CAAA,cAAAA,CAAA,GAAAM,KAAA,CAAAC,IAAA,CAAAf,CAAA,oBAAAQ,CAAA,+CAAAQ,IAAA,CAAAR,CAAA,IAAAD,iBAAA,CAAAP,CAAA,EAAAM,CAAA;AAAA,SAAAJ,iBAAAF,CAAA,8BAAAiB,MAAA,YAAAjB,CAAA,CAAAiB,MAAA,CAAAC,QAAA,aAAAlB,CAAA,uBAAAc,KAAA,CAAAC,IAAA,CAAAf,CAAA;AAAA,SAAAC,mBAAAD,CAAA,QAAAc,KAAA,CAAAK,OAAA,CAAAnB,CAAA,UAAAO,iBAAA,CAAAP,CAAA;AAAA,SAAAO,kBAAAP,CAAA,EAAAM,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAN,CAAA,CAAAoB,MAAA,MAAAd,CAAA,GAAAN,CAAA,CAAAoB,MAAA,YAAAvB,CAAA,MAAAwB,CAAA,GAAAP,KAAA,CAAAR,CAAA,GAAAT,CAAA,GAAAS,CAAA,EAAAT,CAAA,IAAAwB,CAAA,CAAAxB,CAAA,IAAAG,CAAA,CAAAH,CAAA,UAAAwB,CAAA;AAEhC,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,EAAE,EAAEC,OAAO,EAAK;EACnC,OAAOC,iBAAK,CAACC,SAAS,CAACH,EAAE,CAAC,GAAG,YAAmB;IAAA,SAAAI,IAAA,GAAAC,SAAA,CAAAR,MAAA,EAANS,IAAI,OAAAf,KAAA,CAAAa,IAAA,GAAAG,IAAA,MAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA;MAAJD,IAAI,CAAAC,IAAA,IAAAF,SAAA,CAAAE,IAAA;IAAA;IAC5C,IAAMC,EAAE,GAAGF,IAAI,CAACG,GAAG,CAAC,CAAC;IACrBT,EAAE,CAACU,KAAK,CAAC,IAAI,EAAEJ,IAAI,CAAC,CAACK,IAAI,CAAC,UAACC,KAAK,EAAK;MACnC,IAAI;QACFX,OAAO,GAAGO,EAAE,CAAAE,KAAA,UAAC,IAAI,EAAAG,MAAA,CAAArC,kBAAA,CAAKyB,OAAO,CAACW,KAAK,CAAC,GAAC,GAAGJ,EAAE,CAAC,IAAI,EAAEI,KAAK,CAAC;MACzD,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZN,EAAE,CAACM,GAAG,CAAC;MACT;IACF,CAAC,EAAEN,EAAE,CAAC;EACR,CAAC,GAAGR,EAAE;AACR,CAAC;AAAA,IAAAe,QAAA,GAAAC,OAAA,cAEcjB,WAAW","ignoreList":[]}