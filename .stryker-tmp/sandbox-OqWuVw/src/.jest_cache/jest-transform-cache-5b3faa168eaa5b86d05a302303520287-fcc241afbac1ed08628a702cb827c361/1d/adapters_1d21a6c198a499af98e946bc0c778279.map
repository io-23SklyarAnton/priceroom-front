{"version":3,"names":["_utils","_interopRequireDefault","require","_http","_xhr","_fetch","_AxiosError","e","__esModule","_slicedToArray","r","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","length","n","l","Symbol","iterator","i","u","f","o","next","Object","done","push","value","isArray","knownAdapters","http","httpAdapter","xhr","xhrAdapter","fetch","fetchAdapter","utils","forEach","fn","defineProperty","renderReason","reason","concat","isResolvedHandle","adapter","isFunction","_default","exports","getAdapter","adapters","_adapters","nameOrAdapter","rejectedReasons","id","String","toLowerCase","undefined","AxiosError","reasons","entries","map","_ref","_ref2","state","s","join"],"sources":["adapters.js"],"sourcesContent":["import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n"],"mappings":"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","ignoreList":[]}