{"version":3,"names":["_react","require","_reactRouterDom","_jwtDecode","useAuth","navigate","useNavigate","useEffect","token","localStorage","getItem","decodedToken","jwtDecode","exp","Date","now","removeItem","error","console","_default","exports"],"sources":["useAuth.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\n\nconst useAuth = () => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n\n    if (!token) {\n      navigate(\"/auth\");\n      return;\n    }\n\n    try {\n      const decodedToken = jwtDecode(token);\n\n      if (decodedToken.exp * 1000 < Date.now()) {\n        localStorage.removeItem(\"token\");\n        navigate(\"/auth\");\n      }\n    } catch (error) {\n      console.error(\"Invalid token:\", error);\n      localStorage.removeItem(\"token\");\n      navigate(\"/auth\");\n    }\n  }, [navigate]);\n};\n\nexport default useAuth;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AAEA,IAAMG,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;EACpB,IAAMC,QAAQ,GAAG,IAAAC,2BAAW,EAAC,CAAC;EAE9B,IAAAC,gBAAS,EAAC,YAAM;IACd,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAI,CAACF,KAAK,EAAE;MACVH,QAAQ,CAAC,OAAO,CAAC;MACjB;IACF;IAEA,IAAI;MACF,IAAMM,YAAY,GAAG,IAAAC,oBAAS,EAACJ,KAAK,CAAC;MAErC,IAAIG,YAAY,CAACE,GAAG,GAAG,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;QACxCN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;QAChCX,QAAQ,CAAC,OAAO,CAAC;MACnB;IACF,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtCR,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;MAChCX,QAAQ,CAAC,OAAO,CAAC;IACnB;EACF,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;AAChB,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,cAEahB,OAAO","ignoreList":[]}