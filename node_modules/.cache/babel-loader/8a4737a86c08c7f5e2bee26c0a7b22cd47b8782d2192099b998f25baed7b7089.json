{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\nconst useAuth = () => {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/auth');\n      return;\n    }\n    try {\n      const decodedToken = jwtDecode(token);\n      if (decodedToken.exp * 1000 < Date.now()) {\n        localStorage.removeItem('token');\n        navigate('/auth');\n      }\n    } catch (error) {\n      console.error('Invalid token:', error);\n      localStorage.removeItem('token');\n      navigate('/auth');\n    }\n  }, [navigate]);\n};\n_s(useAuth, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\nexport default useAuth;","map":{"version":3,"names":["useEffect","useNavigate","jwtDecode","useAuth","_s","navigate","token","localStorage","getItem","decodedToken","exp","Date","now","removeItem","error","console"],"sources":["C:/NodeJs_project/project/frontend/src/hooks/useAuth.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\n\nconst useAuth = () => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      navigate('/auth');\n      return;\n    }\n\n    try {\n      const decodedToken = jwtDecode(token);\n\n      if (decodedToken.exp * 1000 < Date.now()) {\n        localStorage.removeItem('token');\n        navigate('/auth');\n      }\n    } catch (error) {\n      console.error('Invalid token:', error);\n      localStorage.removeItem('token');\n      navigate('/auth');\n    }\n  }, [navigate]);\n};\n\nexport default useAuth;\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,QAAQ,YAAY;AAEtC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAMC,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMM,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAI,CAACF,KAAK,EAAE;MACVD,QAAQ,CAAC,OAAO,CAAC;MACjB;IACF;IAEA,IAAI;MACF,MAAMI,YAAY,GAAGP,SAAS,CAACI,KAAK,CAAC;MAErC,IAAIG,YAAY,CAACC,GAAG,GAAG,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;QACxCL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;QAChCR,QAAQ,CAAC,OAAO,CAAC;MACnB;IACF,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtCP,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;MAChCR,QAAQ,CAAC,OAAO,CAAC;IACnB;EACF,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;AAChB,CAAC;AAACD,EAAA,CAxBID,OAAO;EAAA,QACMF,WAAW;AAAA;AAyB9B,eAAeE,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}