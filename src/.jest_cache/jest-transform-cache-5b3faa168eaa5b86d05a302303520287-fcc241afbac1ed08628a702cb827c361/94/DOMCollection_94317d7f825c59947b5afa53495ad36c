e0b04741331599e56a03d6f421a38c94
'use strict';

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.test = exports.serialize = exports["default"] = void 0;
var _collections = require('../collections');

/**
 * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

/* eslint-disable local/ban-types-eventually */
var SPACE = ' ';
var OBJECT_NAMES = ['DOMStringMap', 'NamedNodeMap'];
var ARRAY_REGEXP = /^(HTML\w*Collection|NodeList)$/;
var testName = function testName(name) {
  return OBJECT_NAMES.indexOf(name) !== -1 || ARRAY_REGEXP.test(name);
};
var test = function test(val) {
  return val && val.constructor && !!val.constructor.name && testName(val.constructor.name);
};
exports.test = test;
var isNamedNodeMap = function isNamedNodeMap(collection) {
  return collection.constructor.name === 'NamedNodeMap';
};
var serialize = function serialize(collection, config, indentation, depth, refs, printer) {
  var name = collection.constructor.name;
  if (++depth > config.maxDepth) {
    return '[' + name + ']';
  }
  return (config.min ? '' : name + SPACE) + (OBJECT_NAMES.indexOf(name) !== -1 ? '{' + (0, _collections.printObjectProperties)(isNamedNodeMap(collection) ? Array.from(collection).reduce(function (props, attribute) {
    props[attribute.name] = attribute.value;
    return props;
  }, {}) : _objectSpread({}, collection), config, indentation, depth, refs, printer) + '}' : '[' + (0, _collections.printListItems)(Array.from(collection), config, indentation, depth, refs, printer) + ']');
};
exports.serialize = serialize;
var plugin = {
  serialize: serialize,
  test: test
};
var _default = plugin;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsInZhbHVlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJpIiwiX3RvUHJpbWl0aXZlIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiZXhwb3J0cyIsInRlc3QiLCJzZXJpYWxpemUiLCJfY29sbGVjdGlvbnMiLCJyZXF1aXJlIiwiU1BBQ0UiLCJPQkpFQ1RfTkFNRVMiLCJBUlJBWV9SRUdFWFAiLCJ0ZXN0TmFtZSIsIm5hbWUiLCJpbmRleE9mIiwidmFsIiwiaXNOYW1lZE5vZGVNYXAiLCJjb2xsZWN0aW9uIiwiY29uZmlnIiwiaW5kZW50YXRpb24iLCJkZXB0aCIsInJlZnMiLCJwcmludGVyIiwibWF4RGVwdGgiLCJtaW4iLCJwcmludE9iamVjdFByb3BlcnRpZXMiLCJBcnJheSIsImZyb20iLCJyZWR1Y2UiLCJwcm9wcyIsImF0dHJpYnV0ZSIsInByaW50TGlzdEl0ZW1zIiwicGx1Z2luIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJET01Db2xsZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnRlc3QgPSBleHBvcnRzLnNlcmlhbGl6ZSA9IGV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9jb2xsZWN0aW9ucyA9IHJlcXVpcmUoJy4uL2NvbGxlY3Rpb25zJyk7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgbG9jYWwvYmFuLXR5cGVzLWV2ZW50dWFsbHkgKi9cbmNvbnN0IFNQQUNFID0gJyAnO1xuY29uc3QgT0JKRUNUX05BTUVTID0gWydET01TdHJpbmdNYXAnLCAnTmFtZWROb2RlTWFwJ107XG5jb25zdCBBUlJBWV9SRUdFWFAgPSAvXihIVE1MXFx3KkNvbGxlY3Rpb258Tm9kZUxpc3QpJC87XG5cbmNvbnN0IHRlc3ROYW1lID0gbmFtZSA9PlxuICBPQkpFQ1RfTkFNRVMuaW5kZXhPZihuYW1lKSAhPT0gLTEgfHwgQVJSQVlfUkVHRVhQLnRlc3QobmFtZSk7XG5cbmNvbnN0IHRlc3QgPSB2YWwgPT5cbiAgdmFsICYmXG4gIHZhbC5jb25zdHJ1Y3RvciAmJlxuICAhIXZhbC5jb25zdHJ1Y3Rvci5uYW1lICYmXG4gIHRlc3ROYW1lKHZhbC5jb25zdHJ1Y3Rvci5uYW1lKTtcblxuZXhwb3J0cy50ZXN0ID0gdGVzdDtcblxuY29uc3QgaXNOYW1lZE5vZGVNYXAgPSBjb2xsZWN0aW9uID0+XG4gIGNvbGxlY3Rpb24uY29uc3RydWN0b3IubmFtZSA9PT0gJ05hbWVkTm9kZU1hcCc7XG5cbmNvbnN0IHNlcmlhbGl6ZSA9IChjb2xsZWN0aW9uLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcywgcHJpbnRlcikgPT4ge1xuICBjb25zdCBuYW1lID0gY29sbGVjdGlvbi5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gIGlmICgrK2RlcHRoID4gY29uZmlnLm1heERlcHRoKSB7XG4gICAgcmV0dXJuICdbJyArIG5hbWUgKyAnXSc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIChjb25maWcubWluID8gJycgOiBuYW1lICsgU1BBQ0UpICtcbiAgICAoT0JKRUNUX05BTUVTLmluZGV4T2YobmFtZSkgIT09IC0xXG4gICAgICA/ICd7JyArXG4gICAgICAgICgwLCBfY29sbGVjdGlvbnMucHJpbnRPYmplY3RQcm9wZXJ0aWVzKShcbiAgICAgICAgICBpc05hbWVkTm9kZU1hcChjb2xsZWN0aW9uKVxuICAgICAgICAgICAgPyBBcnJheS5mcm9tKGNvbGxlY3Rpb24pLnJlZHVjZSgocHJvcHMsIGF0dHJpYnV0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHByb3BzW2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgICAgICAgICAgIH0sIHt9KVxuICAgICAgICAgICAgOiB7Li4uY29sbGVjdGlvbn0sXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGluZGVudGF0aW9uLFxuICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgIHJlZnMsXG4gICAgICAgICAgcHJpbnRlclxuICAgICAgICApICtcbiAgICAgICAgJ30nXG4gICAgICA6ICdbJyArXG4gICAgICAgICgwLCBfY29sbGVjdGlvbnMucHJpbnRMaXN0SXRlbXMpKFxuICAgICAgICAgIEFycmF5LmZyb20oY29sbGVjdGlvbiksXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGluZGVudGF0aW9uLFxuICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgIHJlZnMsXG4gICAgICAgICAgcHJpbnRlclxuICAgICAgICApICtcbiAgICAgICAgJ10nKVxuICApO1xufTtcblxuZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG5jb25zdCBwbHVnaW4gPSB7XG4gIHNlcmlhbGl6ZSxcbiAgdGVzdFxufTtcbnZhciBfZGVmYXVsdCA9IHBsdWdpbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFDLFNBQUFBLFFBQUFDLENBQUEsc0NBQUFELE9BQUEsd0JBQUFFLE1BQUEsdUJBQUFBLE1BQUEsQ0FBQUMsUUFBQSxhQUFBRixDQUFBLGtCQUFBQSxDQUFBLGdCQUFBQSxDQUFBLFdBQUFBLENBQUEseUJBQUFDLE1BQUEsSUFBQUQsQ0FBQSxDQUFBRyxXQUFBLEtBQUFGLE1BQUEsSUFBQUQsQ0FBQSxLQUFBQyxNQUFBLENBQUFHLFNBQUEscUJBQUFKLENBQUEsS0FBQUQsT0FBQSxDQUFBQyxDQUFBO0FBQUEsU0FBQUssUUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxJQUFBLENBQUFKLENBQUEsT0FBQUcsTUFBQSxDQUFBRSxxQkFBQSxRQUFBWCxDQUFBLEdBQUFTLE1BQUEsQ0FBQUUscUJBQUEsQ0FBQUwsQ0FBQSxHQUFBQyxDQUFBLEtBQUFQLENBQUEsR0FBQUEsQ0FBQSxDQUFBWSxNQUFBLFdBQUFMLENBQUEsV0FBQUUsTUFBQSxDQUFBSSx3QkFBQSxDQUFBUCxDQUFBLEVBQUFDLENBQUEsRUFBQU8sVUFBQSxPQUFBTixDQUFBLENBQUFPLElBQUEsQ0FBQUMsS0FBQSxDQUFBUixDQUFBLEVBQUFSLENBQUEsWUFBQVEsQ0FBQTtBQUFBLFNBQUFTLGNBQUFYLENBQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFXLFNBQUEsQ0FBQUMsTUFBQSxFQUFBWixDQUFBLFVBQUFDLENBQUEsV0FBQVUsU0FBQSxDQUFBWCxDQUFBLElBQUFXLFNBQUEsQ0FBQVgsQ0FBQSxRQUFBQSxDQUFBLE9BQUFGLE9BQUEsQ0FBQUksTUFBQSxDQUFBRCxDQUFBLE9BQUFZLE9BQUEsV0FBQWIsQ0FBQSxJQUFBYyxlQUFBLENBQUFmLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLENBQUFELENBQUEsU0FBQUUsTUFBQSxDQUFBYSx5QkFBQSxHQUFBYixNQUFBLENBQUFjLGdCQUFBLENBQUFqQixDQUFBLEVBQUFHLE1BQUEsQ0FBQWEseUJBQUEsQ0FBQWQsQ0FBQSxLQUFBSCxPQUFBLENBQUFJLE1BQUEsQ0FBQUQsQ0FBQSxHQUFBWSxPQUFBLFdBQUFiLENBQUEsSUFBQUUsTUFBQSxDQUFBZSxjQUFBLENBQUFsQixDQUFBLEVBQUFDLENBQUEsRUFBQUUsTUFBQSxDQUFBSSx3QkFBQSxDQUFBTCxDQUFBLEVBQUFELENBQUEsaUJBQUFELENBQUE7QUFBQSxTQUFBZSxnQkFBQWYsQ0FBQSxFQUFBQyxDQUFBLEVBQUFDLENBQUEsWUFBQUQsQ0FBQSxHQUFBa0IsY0FBQSxDQUFBbEIsQ0FBQSxNQUFBRCxDQUFBLEdBQUFHLE1BQUEsQ0FBQWUsY0FBQSxDQUFBbEIsQ0FBQSxFQUFBQyxDQUFBLElBQUFtQixLQUFBLEVBQUFsQixDQUFBLEVBQUFNLFVBQUEsTUFBQWEsWUFBQSxNQUFBQyxRQUFBLFVBQUF0QixDQUFBLENBQUFDLENBQUEsSUFBQUMsQ0FBQSxFQUFBRixDQUFBO0FBQUEsU0FBQW1CLGVBQUFqQixDQUFBLFFBQUFxQixDQUFBLEdBQUFDLFlBQUEsQ0FBQXRCLENBQUEsZ0NBQUFULE9BQUEsQ0FBQThCLENBQUEsSUFBQUEsQ0FBQSxHQUFBQSxDQUFBO0FBQUEsU0FBQUMsYUFBQXRCLENBQUEsRUFBQUQsQ0FBQSxvQkFBQVIsT0FBQSxDQUFBUyxDQUFBLE1BQUFBLENBQUEsU0FBQUEsQ0FBQSxNQUFBRixDQUFBLEdBQUFFLENBQUEsQ0FBQVAsTUFBQSxDQUFBOEIsV0FBQSxrQkFBQXpCLENBQUEsUUFBQXVCLENBQUEsR0FBQXZCLENBQUEsQ0FBQTBCLElBQUEsQ0FBQXhCLENBQUEsRUFBQUQsQ0FBQSxnQ0FBQVIsT0FBQSxDQUFBOEIsQ0FBQSxVQUFBQSxDQUFBLFlBQUFJLFNBQUEseUVBQUExQixDQUFBLEdBQUEyQixNQUFBLEdBQUFDLE1BQUEsRUFBQTNCLENBQUE7QUFFYkMsTUFBTSxDQUFDZSxjQUFjLENBQUNZLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NWLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGVSxPQUFPLENBQUNDLElBQUksR0FBR0QsT0FBTyxDQUFDRSxTQUFTLEdBQUdGLE9BQU8sV0FBUSxHQUFHLEtBQUssQ0FBQztBQUUzRCxJQUFJRyxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBTUMsS0FBSyxHQUFHLEdBQUc7QUFDakIsSUFBTUMsWUFBWSxHQUFHLENBQUMsY0FBYyxFQUFFLGNBQWMsQ0FBQztBQUNyRCxJQUFNQyxZQUFZLEdBQUcsZ0NBQWdDO0FBRXJELElBQU1DLFFBQVEsR0FBRyxTQUFYQSxRQUFRQSxDQUFHQyxJQUFJO0VBQUEsT0FDbkJILFlBQVksQ0FBQ0ksT0FBTyxDQUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSUYsWUFBWSxDQUFDTixJQUFJLENBQUNRLElBQUksQ0FBQztBQUFBO0FBRTlELElBQU1SLElBQUksR0FBRyxTQUFQQSxJQUFJQSxDQUFHVSxHQUFHO0VBQUEsT0FDZEEsR0FBRyxJQUNIQSxHQUFHLENBQUM1QyxXQUFXLElBQ2YsQ0FBQyxDQUFDNEMsR0FBRyxDQUFDNUMsV0FBVyxDQUFDMEMsSUFBSSxJQUN0QkQsUUFBUSxDQUFDRyxHQUFHLENBQUM1QyxXQUFXLENBQUMwQyxJQUFJLENBQUM7QUFBQTtBQUVoQ1QsT0FBTyxDQUFDQyxJQUFJLEdBQUdBLElBQUk7QUFFbkIsSUFBTVcsY0FBYyxHQUFHLFNBQWpCQSxjQUFjQSxDQUFHQyxVQUFVO0VBQUEsT0FDL0JBLFVBQVUsQ0FBQzlDLFdBQVcsQ0FBQzBDLElBQUksS0FBSyxjQUFjO0FBQUE7QUFFaEQsSUFBTVAsU0FBUyxHQUFHLFNBQVpBLFNBQVNBLENBQUlXLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxXQUFXLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUs7RUFDM0UsSUFBTVQsSUFBSSxHQUFHSSxVQUFVLENBQUM5QyxXQUFXLENBQUMwQyxJQUFJO0VBRXhDLElBQUksRUFBRU8sS0FBSyxHQUFHRixNQUFNLENBQUNLLFFBQVEsRUFBRTtJQUM3QixPQUFPLEdBQUcsR0FBR1YsSUFBSSxHQUFHLEdBQUc7RUFDekI7RUFFQSxPQUNFLENBQUNLLE1BQU0sQ0FBQ00sR0FBRyxHQUFHLEVBQUUsR0FBR1gsSUFBSSxHQUFHSixLQUFLLEtBQzlCQyxZQUFZLENBQUNJLE9BQU8sQ0FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQzlCLEdBQUcsR0FDSCxDQUFDLENBQUMsRUFBRU4sWUFBWSxDQUFDa0IscUJBQXFCLEVBQ3BDVCxjQUFjLENBQUNDLFVBQVUsQ0FBQyxHQUN0QlMsS0FBSyxDQUFDQyxJQUFJLENBQUNWLFVBQVUsQ0FBQyxDQUFDVyxNQUFNLENBQUMsVUFBQ0MsS0FBSyxFQUFFQyxTQUFTLEVBQUs7SUFDbERELEtBQUssQ0FBQ0MsU0FBUyxDQUFDakIsSUFBSSxDQUFDLEdBQUdpQixTQUFTLENBQUNwQyxLQUFLO0lBQ3ZDLE9BQU9tQyxLQUFLO0VBQ2QsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUE1QyxhQUFBLEtBQ0ZnQyxVQUFVLENBQUMsRUFDbkJDLE1BQU0sRUFDTkMsV0FBVyxFQUNYQyxLQUFLLEVBQ0xDLElBQUksRUFDSkMsT0FDRixDQUFDLEdBQ0QsR0FBRyxHQUNILEdBQUcsR0FDSCxDQUFDLENBQUMsRUFBRWYsWUFBWSxDQUFDd0IsY0FBYyxFQUM3QkwsS0FBSyxDQUFDQyxJQUFJLENBQUNWLFVBQVUsQ0FBQyxFQUN0QkMsTUFBTSxFQUNOQyxXQUFXLEVBQ1hDLEtBQUssRUFDTEMsSUFBSSxFQUNKQyxPQUNGLENBQUMsR0FDRCxHQUFHLENBQUM7QUFFWixDQUFDO0FBRURsQixPQUFPLENBQUNFLFNBQVMsR0FBR0EsU0FBUztBQUM3QixJQUFNMEIsTUFBTSxHQUFHO0VBQ2IxQixTQUFTLEVBQVRBLFNBQVM7RUFDVEQsSUFBSSxFQUFKQTtBQUNGLENBQUM7QUFDRCxJQUFJNEIsUUFBUSxHQUFHRCxNQUFNO0FBQ3JCNUIsT0FBTyxXQUFRLEdBQUc2QixRQUFRIiwiaWdub3JlTGlzdCI6W119