{"version":3,"names":["_excluded","_excluded2","_typeof","o","Symbol","iterator","constructor","prototype","_objectWithoutProperties","e","t","r","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","s","length","includes","propertyIsEnumerable","call","n","hasOwnProperty","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","toPrimitive","TypeError","String","Number","exports","createEvent","fireEvent","_config","require","_helpers","_eventMap","element","event","getConfig","eventWrapper","Error","concat","type","dispatchEvent","eventName","node","init","_ref","undefined","_ref$EventType","EventType","_ref$defaultInit","defaultInit","eventInit","_eventInit$target","target","_eventInit$target2","files","targetProperties","setNativeValue","assign","window","getWindowFromNode","EventConstructor","Event","document","bubbles","cancelable","detail","otherInit","initEvent","eventKey","dataTransferProperties","dataTransferKey","dataTransferValue","DataTransfer","getOwnPropertyNames","reduce","acc","propName","eventMap","key","_eventMap$eventMap$ke","toLowerCase","_ref2","valueSetter","set","getPrototypeOf","_ref3","prototypeValueSetter","eventAliasMap","aliasKey"],"sources":["events.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createEvent = createEvent;\nexports.fireEvent = fireEvent;\nvar _config = require(\"./config\");\nvar _helpers = require(\"./helpers\");\nvar _eventMap = require(\"./event-map\");\nfunction fireEvent(element, event) {\n  return (0, _config.getConfig)().eventWrapper(() => {\n    if (!event) {\n      throw new Error(`Unable to fire an event - please provide an event object.`);\n    }\n    if (!element) {\n      throw new Error(`Unable to fire a \"${event.type}\" event - please provide a DOM element.`);\n    }\n    return element.dispatchEvent(event);\n  });\n}\nfunction createEvent(eventName, node, init, {\n  EventType = 'Event',\n  defaultInit = {}\n} = {}) {\n  if (!node) {\n    throw new Error(`Unable to fire a \"${eventName}\" event - please provide a DOM element.`);\n  }\n  const eventInit = {\n    ...defaultInit,\n    ...init\n  };\n  const {\n    target: {\n      value,\n      files,\n      ...targetProperties\n    } = {}\n  } = eventInit;\n  if (value !== undefined) {\n    setNativeValue(node, value);\n  }\n  if (files !== undefined) {\n    // input.files is a read-only property so this is not allowed:\n    // input.files = [file]\n    // so we have to use this workaround to set the property\n    Object.defineProperty(node, 'files', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: files\n    });\n  }\n  Object.assign(node, targetProperties);\n  const window = (0, _helpers.getWindowFromNode)(node);\n  const EventConstructor = window[EventType] || window.Event;\n  let event;\n  /* istanbul ignore else  */\n  if (typeof EventConstructor === 'function') {\n    event = new EventConstructor(eventName, eventInit);\n  } else {\n    // IE11 polyfill from https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill\n    event = window.document.createEvent(EventType);\n    const {\n      bubbles,\n      cancelable,\n      detail,\n      ...otherInit\n    } = eventInit;\n    event.initEvent(eventName, bubbles, cancelable, detail);\n    Object.keys(otherInit).forEach(eventKey => {\n      event[eventKey] = otherInit[eventKey];\n    });\n  }\n\n  // DataTransfer is not supported in jsdom: https://github.com/jsdom/jsdom/issues/1568\n  const dataTransferProperties = ['dataTransfer', 'clipboardData'];\n  dataTransferProperties.forEach(dataTransferKey => {\n    const dataTransferValue = eventInit[dataTransferKey];\n    if (typeof dataTransferValue === 'object') {\n      /* istanbul ignore if  */\n      if (typeof window.DataTransfer === 'function') {\n        Object.defineProperty(event, dataTransferKey, {\n          value: Object.getOwnPropertyNames(dataTransferValue).reduce((acc, propName) => {\n            Object.defineProperty(acc, propName, {\n              value: dataTransferValue[propName]\n            });\n            return acc;\n          }, new window.DataTransfer())\n        });\n      } else {\n        Object.defineProperty(event, dataTransferKey, {\n          value: dataTransferValue\n        });\n      }\n    }\n  });\n  return event;\n}\nObject.keys(_eventMap.eventMap).forEach(key => {\n  const {\n    EventType,\n    defaultInit\n  } = _eventMap.eventMap[key];\n  const eventName = key.toLowerCase();\n  createEvent[key] = (node, init) => createEvent(eventName, node, init, {\n    EventType,\n    defaultInit\n  });\n  fireEvent[key] = (node, init) => fireEvent(node, createEvent[key](node, init));\n});\n\n// function written after some investigation here:\n// https://github.com/facebook/react/issues/10135#issuecomment-401496776\nfunction setNativeValue(element, value) {\n  const {\n    set: valueSetter\n  } = Object.getOwnPropertyDescriptor(element, 'value') || {};\n  const prototype = Object.getPrototypeOf(element);\n  const {\n    set: prototypeValueSetter\n  } = Object.getOwnPropertyDescriptor(prototype, 'value') || {};\n  if (prototypeValueSetter && valueSetter !== prototypeValueSetter) {\n    prototypeValueSetter.call(element, value);\n  } else {\n    /* istanbul ignore if */\n    // eslint-disable-next-line no-lonely-if -- Can't be ignored by istanbul otherwise\n    if (valueSetter) {\n      valueSetter.call(element, value);\n    } else {\n      throw new Error('The given element does not have a value setter');\n    }\n  }\n}\nObject.keys(_eventMap.eventAliasMap).forEach(aliasKey => {\n  const key = _eventMap.eventAliasMap[aliasKey];\n  fireEvent[aliasKey] = (...args) => fireEvent[key](...args);\n});\n\n/* eslint complexity:[\"error\", 9] */"],"mappings":"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","ignoreList":[]}