e07f04cf47a5051876d12a2c46e425c6
"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
var CombinedStream = require('combined-stream');
var util = require('util');
var path = require('path');
var http = require('http');
var https = require('https');
var parseUrl = require('url').parse;
var fs = require('fs');
var Stream = require('stream').Stream;
var mime = require('mime-types');
var asynckit = require('asynckit');
var populate = require('./populate.js');

// Public API
module.exports = FormData;

// make it a Stream
util.inherits(FormData, CombinedStream);

/**
 * Create readable "multipart/form-data" streams.
 * Can be used to submit forms
 * and file uploads to other web applications.
 *
 * @constructor
 * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream
 */
function FormData(options) {
  if (!(this instanceof FormData)) {
    return new FormData(options);
  }
  this._overheadLength = 0;
  this._valueLength = 0;
  this._valuesToMeasure = [];
  CombinedStream.call(this);
  options = options || {};
  for (var option in options) {
    this[option] = options[option];
  }
}
FormData.LINE_BREAK = '\r\n';
FormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';
FormData.prototype.append = function (field, value, options) {
  options = options || {};

  // allow filename as single option
  if (typeof options == 'string') {
    options = {
      filename: options
    };
  }
  var append = CombinedStream.prototype.append.bind(this);

  // all that streamy business can't handle numbers
  if (typeof value == 'number') {
    value = '' + value;
  }

  // https://github.com/felixge/node-form-data/issues/38
  if (Array.isArray(value)) {
    // Please convert your array into string
    // the way web server expects it
    this._error(new Error('Arrays are not supported.'));
    return;
  }
  var header = this._multiPartHeader(field, value, options);
  var footer = this._multiPartFooter();
  append(header);
  append(value);
  append(footer);

  // pass along options.knownLength
  this._trackLength(header, value, options);
};
FormData.prototype._trackLength = function (header, value, options) {
  var valueLength = 0;

  // used w/ getLengthSync(), when length is known.
  // e.g. for streaming directly from a remote server,
  // w/ a known file a size, and not wanting to wait for
  // incoming file to finish to get its size.
  if (options.knownLength != null) {
    valueLength += +options.knownLength;
  } else if (Buffer.isBuffer(value)) {
    valueLength = value.length;
  } else if (typeof value === 'string') {
    valueLength = Buffer.byteLength(value);
  }
  this._valueLength += valueLength;

  // @check why add CRLF? does this account for custom/multiple CRLFs?
  this._overheadLength += Buffer.byteLength(header) + FormData.LINE_BREAK.length;

  // empty or either doesn't have path or not an http response or not a stream
  if (!value || !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream)) {
    return;
  }

  // no need to bother with the length
  if (!options.knownLength) {
    this._valuesToMeasure.push(value);
  }
};
FormData.prototype._lengthRetriever = function (value, callback) {
  if (value.hasOwnProperty('fd')) {
    // take read range into a account
    // `end` = Infinity â€“> read file till the end
    //
    // TODO: Looks like there is bug in Node fs.createReadStream
    // it doesn't respect `end` options without `start` options
    // Fix it when node fixes it.
    // https://github.com/joyent/node/issues/7819
    if (value.end != undefined && value.end != Infinity && value.start != undefined) {
      // when end specified
      // no need to calculate range
      // inclusive, starts with 0
      callback(null, value.end + 1 - (value.start ? value.start : 0));

      // not that fast snoopy
    } else {
      // still need to fetch file size from fs
      fs.stat(value.path, function (err, stat) {
        var fileSize;
        if (err) {
          callback(err);
          return;
        }

        // update final size based on the range options
        fileSize = stat.size - (value.start ? value.start : 0);
        callback(null, fileSize);
      });
    }

    // or http response
  } else if (value.hasOwnProperty('httpVersion')) {
    callback(null, +value.headers['content-length']);

    // or request stream http://github.com/mikeal/request
  } else if (value.hasOwnProperty('httpModule')) {
    // wait till response come back
    value.on('response', function (response) {
      value.pause();
      callback(null, +response.headers['content-length']);
    });
    value.resume();

    // something else
  } else {
    callback('Unknown stream');
  }
};
FormData.prototype._multiPartHeader = function (field, value, options) {
  // custom header specified (as string)?
  // it becomes responsible for boundary
  // (e.g. to handle extra CRLFs on .NET servers)
  if (typeof options.header == 'string') {
    return options.header;
  }
  var contentDisposition = this._getContentDisposition(value, options);
  var contentType = this._getContentType(value, options);
  var contents = '';
  var headers = {
    // add custom disposition as third element or keep it two elements if not
    'Content-Disposition': ['form-data', 'name="' + field + '"'].concat(contentDisposition || []),
    // if no content type. allow it to be empty array
    'Content-Type': [].concat(contentType || [])
  };

  // allow custom headers.
  if (_typeof(options.header) == 'object') {
    populate(headers, options.header);
  }
  var header;
  for (var prop in headers) {
    if (!headers.hasOwnProperty(prop)) continue;
    header = headers[prop];

    // skip nullish headers.
    if (header == null) {
      continue;
    }

    // convert all headers to arrays.
    if (!Array.isArray(header)) {
      header = [header];
    }

    // add non-empty headers.
    if (header.length) {
      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;
    }
  }
  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;
};
FormData.prototype._getContentDisposition = function (value, options) {
  var filename, contentDisposition;
  if (typeof options.filepath === 'string') {
    // custom filepath for relative paths
    filename = path.normalize(options.filepath).replace(/\\/g, '/');
  } else if (options.filename || value.name || value.path) {
    // custom filename take precedence
    // formidable and the browser add a name property
    // fs- and request- streams have path property
    filename = path.basename(options.filename || value.name || value.path);
  } else if (value.readable && value.hasOwnProperty('httpVersion')) {
    // or try http response
    filename = path.basename(value.client._httpMessage.path || '');
  }
  if (filename) {
    contentDisposition = 'filename="' + filename + '"';
  }
  return contentDisposition;
};
FormData.prototype._getContentType = function (value, options) {
  // use custom content-type above all
  var contentType = options.contentType;

  // or try `name` from formidable, browser
  if (!contentType && value.name) {
    contentType = mime.lookup(value.name);
  }

  // or try `path` from fs-, request- streams
  if (!contentType && value.path) {
    contentType = mime.lookup(value.path);
  }

  // or if it's http-reponse
  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {
    contentType = value.headers['content-type'];
  }

  // or guess it from the filepath or filename
  if (!contentType && (options.filepath || options.filename)) {
    contentType = mime.lookup(options.filepath || options.filename);
  }

  // fallback to the default content type if `value` is not simple value
  if (!contentType && _typeof(value) == 'object') {
    contentType = FormData.DEFAULT_CONTENT_TYPE;
  }
  return contentType;
};
FormData.prototype._multiPartFooter = function () {
  return function (next) {
    var footer = FormData.LINE_BREAK;
    var lastPart = this._streams.length === 0;
    if (lastPart) {
      footer += this._lastBoundary();
    }
    next(footer);
  }.bind(this);
};
FormData.prototype._lastBoundary = function () {
  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;
};
FormData.prototype.getHeaders = function (userHeaders) {
  var header;
  var formHeaders = {
    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()
  };
  for (header in userHeaders) {
    if (userHeaders.hasOwnProperty(header)) {
      formHeaders[header.toLowerCase()] = userHeaders[header];
    }
  }
  return formHeaders;
};
FormData.prototype.setBoundary = function (boundary) {
  this._boundary = boundary;
};
FormData.prototype.getBoundary = function () {
  if (!this._boundary) {
    this._generateBoundary();
  }
  return this._boundary;
};
FormData.prototype.getBuffer = function () {
  var dataBuffer = new Buffer.alloc(0);
  var boundary = this.getBoundary();

  // Create the form content. Add Line breaks to the end of data.
  for (var i = 0, len = this._streams.length; i < len; i++) {
    if (typeof this._streams[i] !== 'function') {
      // Add content to the buffer.
      if (Buffer.isBuffer(this._streams[i])) {
        dataBuffer = Buffer.concat([dataBuffer, this._streams[i]]);
      } else {
        dataBuffer = Buffer.concat([dataBuffer, Buffer.from(this._streams[i])]);
      }

      // Add break after content.
      if (typeof this._streams[i] !== 'string' || this._streams[i].substring(2, boundary.length + 2) !== boundary) {
        dataBuffer = Buffer.concat([dataBuffer, Buffer.from(FormData.LINE_BREAK)]);
      }
    }
  }

  // Add the footer and return the Buffer object.
  return Buffer.concat([dataBuffer, Buffer.from(this._lastBoundary())]);
};
FormData.prototype._generateBoundary = function () {
  // This generates a 50 character boundary similar to those used by Firefox.
  // They are optimized for boyer-moore parsing.
  var boundary = '--------------------------';
  for (var i = 0; i < 24; i++) {
    boundary += Math.floor(Math.random() * 10).toString(16);
  }
  this._boundary = boundary;
};

// Note: getLengthSync DOESN'T calculate streams length
// As workaround one can calculate file size manually
// and add it as knownLength option
FormData.prototype.getLengthSync = function () {
  var knownLength = this._overheadLength + this._valueLength;

  // Don't get confused, there are 3 "internal" streams for each keyval pair
  // so it basically checks if there is any value added to the form
  if (this._streams.length) {
    knownLength += this._lastBoundary().length;
  }

  // https://github.com/form-data/form-data/issues/40
  if (!this.hasKnownLength()) {
    // Some async length retrievers are present
    // therefore synchronous length calculation is false.
    // Please use getLength(callback) to get proper length
    this._error(new Error('Cannot calculate proper length in synchronous way.'));
  }
  return knownLength;
};

// Public API to check if length of added values is known
// https://github.com/form-data/form-data/issues/196
// https://github.com/form-data/form-data/issues/262
FormData.prototype.hasKnownLength = function () {
  var hasKnownLength = true;
  if (this._valuesToMeasure.length) {
    hasKnownLength = false;
  }
  return hasKnownLength;
};
FormData.prototype.getLength = function (cb) {
  var knownLength = this._overheadLength + this._valueLength;
  if (this._streams.length) {
    knownLength += this._lastBoundary().length;
  }
  if (!this._valuesToMeasure.length) {
    process.nextTick(cb.bind(this, null, knownLength));
    return;
  }
  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function (err, values) {
    if (err) {
      cb(err);
      return;
    }
    values.forEach(function (length) {
      knownLength += length;
    });
    cb(null, knownLength);
  });
};
FormData.prototype.submit = function (params, cb) {
  var request,
    options,
    defaults = {
      method: 'post'
    };

  // parse provided url if it's string
  // or treat it as options object
  if (typeof params == 'string') {
    params = parseUrl(params);
    options = populate({
      port: params.port,
      path: params.pathname,
      host: params.hostname,
      protocol: params.protocol
    }, defaults);

    // use custom params
  } else {
    options = populate(params, defaults);
    // if no port provided use default one
    if (!options.port) {
      options.port = options.protocol == 'https:' ? 443 : 80;
    }
  }

  // put that good code in getHeaders to some use
  options.headers = this.getHeaders(params.headers);

  // https if specified, fallback to http in any other case
  if (options.protocol == 'https:') {
    request = https.request(options);
  } else {
    request = http.request(options);
  }

  // get content length and fire away
  this.getLength(function (err, length) {
    if (err && err !== 'Unknown stream') {
      this._error(err);
      return;
    }

    // add content length
    if (length) {
      request.setHeader('Content-Length', length);
    }
    this.pipe(request);
    if (cb) {
      var onResponse;
      var _callback = function callback(error, responce) {
        request.removeListener('error', _callback);
        request.removeListener('response', onResponse);
        return cb.call(this, error, responce);
      };
      onResponse = _callback.bind(this, null);
      request.on('error', _callback);
      request.on('response', onResponse);
    }
  }.bind(this));
  return request;
};
FormData.prototype._error = function (err) {
  if (!this.error) {
    this.error = err;
    this.pause();
    this.emit('error', err);
  }
};
FormData.prototype.toString = function () {
  return '[object FormData]';
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb21iaW5lZFN0cmVhbSIsInJlcXVpcmUiLCJ1dGlsIiwicGF0aCIsImh0dHAiLCJodHRwcyIsInBhcnNlVXJsIiwicGFyc2UiLCJmcyIsIlN0cmVhbSIsIm1pbWUiLCJhc3luY2tpdCIsInBvcHVsYXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsIkZvcm1EYXRhIiwiaW5oZXJpdHMiLCJvcHRpb25zIiwiX292ZXJoZWFkTGVuZ3RoIiwiX3ZhbHVlTGVuZ3RoIiwiX3ZhbHVlc1RvTWVhc3VyZSIsImNhbGwiLCJvcHRpb24iLCJMSU5FX0JSRUFLIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJwcm90b3R5cGUiLCJhcHBlbmQiLCJmaWVsZCIsInZhbHVlIiwiZmlsZW5hbWUiLCJiaW5kIiwiQXJyYXkiLCJpc0FycmF5IiwiX2Vycm9yIiwiRXJyb3IiLCJoZWFkZXIiLCJfbXVsdGlQYXJ0SGVhZGVyIiwiZm9vdGVyIiwiX211bHRpUGFydEZvb3RlciIsIl90cmFja0xlbmd0aCIsInZhbHVlTGVuZ3RoIiwia25vd25MZW5ndGgiLCJCdWZmZXIiLCJpc0J1ZmZlciIsImxlbmd0aCIsImJ5dGVMZW5ndGgiLCJyZWFkYWJsZSIsImhhc093blByb3BlcnR5IiwicHVzaCIsIl9sZW5ndGhSZXRyaWV2ZXIiLCJjYWxsYmFjayIsImVuZCIsInVuZGVmaW5lZCIsIkluZmluaXR5Iiwic3RhcnQiLCJzdGF0IiwiZXJyIiwiZmlsZVNpemUiLCJzaXplIiwiaGVhZGVycyIsIm9uIiwicmVzcG9uc2UiLCJwYXVzZSIsInJlc3VtZSIsImNvbnRlbnREaXNwb3NpdGlvbiIsIl9nZXRDb250ZW50RGlzcG9zaXRpb24iLCJjb250ZW50VHlwZSIsIl9nZXRDb250ZW50VHlwZSIsImNvbnRlbnRzIiwiY29uY2F0IiwiX3R5cGVvZiIsInByb3AiLCJqb2luIiwiZ2V0Qm91bmRhcnkiLCJmaWxlcGF0aCIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJuYW1lIiwiYmFzZW5hbWUiLCJjbGllbnQiLCJfaHR0cE1lc3NhZ2UiLCJsb29rdXAiLCJuZXh0IiwibGFzdFBhcnQiLCJfc3RyZWFtcyIsIl9sYXN0Qm91bmRhcnkiLCJnZXRIZWFkZXJzIiwidXNlckhlYWRlcnMiLCJmb3JtSGVhZGVycyIsInRvTG93ZXJDYXNlIiwic2V0Qm91bmRhcnkiLCJib3VuZGFyeSIsIl9ib3VuZGFyeSIsIl9nZW5lcmF0ZUJvdW5kYXJ5IiwiZ2V0QnVmZmVyIiwiZGF0YUJ1ZmZlciIsImFsbG9jIiwiaSIsImxlbiIsImZyb20iLCJzdWJzdHJpbmciLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsImdldExlbmd0aFN5bmMiLCJoYXNLbm93bkxlbmd0aCIsImdldExlbmd0aCIsImNiIiwicHJvY2VzcyIsIm5leHRUaWNrIiwicGFyYWxsZWwiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwic3VibWl0IiwicGFyYW1zIiwicmVxdWVzdCIsImRlZmF1bHRzIiwibWV0aG9kIiwicG9ydCIsInBhdGhuYW1lIiwiaG9zdCIsImhvc3RuYW1lIiwicHJvdG9jb2wiLCJzZXRIZWFkZXIiLCJwaXBlIiwib25SZXNwb25zZSIsImVycm9yIiwicmVzcG9uY2UiLCJyZW1vdmVMaXN0ZW5lciIsImVtaXQiXSwic291cmNlcyI6WyJmb3JtX2RhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIENvbWJpbmVkU3RyZWFtID0gcmVxdWlyZSgnY29tYmluZWQtc3RyZWFtJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xudmFyIGh0dHAgPSByZXF1aXJlKCdodHRwJyk7XG52YXIgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpO1xudmFyIHBhcnNlVXJsID0gcmVxdWlyZSgndXJsJykucGFyc2U7XG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIFN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpLlN0cmVhbTtcbnZhciBtaW1lID0gcmVxdWlyZSgnbWltZS10eXBlcycpO1xudmFyIGFzeW5ja2l0ID0gcmVxdWlyZSgnYXN5bmNraXQnKTtcbnZhciBwb3B1bGF0ZSA9IHJlcXVpcmUoJy4vcG9wdWxhdGUuanMnKTtcblxuLy8gUHVibGljIEFQSVxubW9kdWxlLmV4cG9ydHMgPSBGb3JtRGF0YTtcblxuLy8gbWFrZSBpdCBhIFN0cmVhbVxudXRpbC5pbmhlcml0cyhGb3JtRGF0YSwgQ29tYmluZWRTdHJlYW0pO1xuXG4vKipcbiAqIENyZWF0ZSByZWFkYWJsZSBcIm11bHRpcGFydC9mb3JtLWRhdGFcIiBzdHJlYW1zLlxuICogQ2FuIGJlIHVzZWQgdG8gc3VibWl0IGZvcm1zXG4gKiBhbmQgZmlsZSB1cGxvYWRzIHRvIG90aGVyIHdlYiBhcHBsaWNhdGlvbnMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFByb3BlcnRpZXMgdG8gYmUgYWRkZWQvb3ZlcnJpZGVuIGZvciBGb3JtRGF0YSBhbmQgQ29tYmluZWRTdHJlYW1cbiAqL1xuZnVuY3Rpb24gRm9ybURhdGEob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRm9ybURhdGEpKSB7XG4gICAgcmV0dXJuIG5ldyBGb3JtRGF0YShvcHRpb25zKTtcbiAgfVxuXG4gIHRoaXMuX292ZXJoZWFkTGVuZ3RoID0gMDtcbiAgdGhpcy5fdmFsdWVMZW5ndGggPSAwO1xuICB0aGlzLl92YWx1ZXNUb01lYXN1cmUgPSBbXTtcblxuICBDb21iaW5lZFN0cmVhbS5jYWxsKHRoaXMpO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBmb3IgKHZhciBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgIHRoaXNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgfVxufVxuXG5Gb3JtRGF0YS5MSU5FX0JSRUFLID0gJ1xcclxcbic7XG5Gb3JtRGF0YS5ERUZBVUxUX0NPTlRFTlRfVFlQRSA9ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuXG5Gb3JtRGF0YS5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlLCBvcHRpb25zKSB7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gYWxsb3cgZmlsZW5hbWUgYXMgc2luZ2xlIG9wdGlvblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zID0ge2ZpbGVuYW1lOiBvcHRpb25zfTtcbiAgfVxuXG4gIHZhciBhcHBlbmQgPSBDb21iaW5lZFN0cmVhbS5wcm90b3R5cGUuYXBwZW5kLmJpbmQodGhpcyk7XG5cbiAgLy8gYWxsIHRoYXQgc3RyZWFteSBidXNpbmVzcyBjYW4ndCBoYW5kbGUgbnVtYmVyc1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgdmFsdWUgPSAnJyArIHZhbHVlO1xuICB9XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZlbGl4Z2Uvbm9kZS1mb3JtLWRhdGEvaXNzdWVzLzM4XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFBsZWFzZSBjb252ZXJ0IHlvdXIgYXJyYXkgaW50byBzdHJpbmdcbiAgICAvLyB0aGUgd2F5IHdlYiBzZXJ2ZXIgZXhwZWN0cyBpdFxuICAgIHRoaXMuX2Vycm9yKG5ldyBFcnJvcignQXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkLicpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGVhZGVyID0gdGhpcy5fbXVsdGlQYXJ0SGVhZGVyKGZpZWxkLCB2YWx1ZSwgb3B0aW9ucyk7XG4gIHZhciBmb290ZXIgPSB0aGlzLl9tdWx0aVBhcnRGb290ZXIoKTtcblxuICBhcHBlbmQoaGVhZGVyKTtcbiAgYXBwZW5kKHZhbHVlKTtcbiAgYXBwZW5kKGZvb3Rlcik7XG5cbiAgLy8gcGFzcyBhbG9uZyBvcHRpb25zLmtub3duTGVuZ3RoXG4gIHRoaXMuX3RyYWNrTGVuZ3RoKGhlYWRlciwgdmFsdWUsIG9wdGlvbnMpO1xufTtcblxuRm9ybURhdGEucHJvdG90eXBlLl90cmFja0xlbmd0aCA9IGZ1bmN0aW9uKGhlYWRlciwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgdmFyIHZhbHVlTGVuZ3RoID0gMDtcblxuICAvLyB1c2VkIHcvIGdldExlbmd0aFN5bmMoKSwgd2hlbiBsZW5ndGggaXMga25vd24uXG4gIC8vIGUuZy4gZm9yIHN0cmVhbWluZyBkaXJlY3RseSBmcm9tIGEgcmVtb3RlIHNlcnZlcixcbiAgLy8gdy8gYSBrbm93biBmaWxlIGEgc2l6ZSwgYW5kIG5vdCB3YW50aW5nIHRvIHdhaXQgZm9yXG4gIC8vIGluY29taW5nIGZpbGUgdG8gZmluaXNoIHRvIGdldCBpdHMgc2l6ZS5cbiAgaWYgKG9wdGlvbnMua25vd25MZW5ndGggIT0gbnVsbCkge1xuICAgIHZhbHVlTGVuZ3RoICs9ICtvcHRpb25zLmtub3duTGVuZ3RoO1xuICB9IGVsc2UgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWVMZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aCh2YWx1ZSk7XG4gIH1cblxuICB0aGlzLl92YWx1ZUxlbmd0aCArPSB2YWx1ZUxlbmd0aDtcblxuICAvLyBAY2hlY2sgd2h5IGFkZCBDUkxGPyBkb2VzIHRoaXMgYWNjb3VudCBmb3IgY3VzdG9tL211bHRpcGxlIENSTEZzP1xuICB0aGlzLl9vdmVyaGVhZExlbmd0aCArPVxuICAgIEJ1ZmZlci5ieXRlTGVuZ3RoKGhlYWRlcikgK1xuICAgIEZvcm1EYXRhLkxJTkVfQlJFQUsubGVuZ3RoO1xuXG4gIC8vIGVtcHR5IG9yIGVpdGhlciBkb2Vzbid0IGhhdmUgcGF0aCBvciBub3QgYW4gaHR0cCByZXNwb25zZSBvciBub3QgYSBzdHJlYW1cbiAgaWYgKCF2YWx1ZSB8fCAoICF2YWx1ZS5wYXRoICYmICEodmFsdWUucmVhZGFibGUgJiYgdmFsdWUuaGFzT3duUHJvcGVydHkoJ2h0dHBWZXJzaW9uJykpICYmICEodmFsdWUgaW5zdGFuY2VvZiBTdHJlYW0pKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIG5vIG5lZWQgdG8gYm90aGVyIHdpdGggdGhlIGxlbmd0aFxuICBpZiAoIW9wdGlvbnMua25vd25MZW5ndGgpIHtcbiAgICB0aGlzLl92YWx1ZXNUb01lYXN1cmUucHVzaCh2YWx1ZSk7XG4gIH1cbn07XG5cbkZvcm1EYXRhLnByb3RvdHlwZS5fbGVuZ3RoUmV0cmlldmVyID0gZnVuY3Rpb24odmFsdWUsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCdmZCcpKSB7XG5cbiAgICAvLyB0YWtlIHJlYWQgcmFuZ2UgaW50byBhIGFjY291bnRcbiAgICAvLyBgZW5kYCA9IEluZmluaXR5IOKAkz4gcmVhZCBmaWxlIHRpbGwgdGhlIGVuZFxuICAgIC8vXG4gICAgLy8gVE9ETzogTG9va3MgbGlrZSB0aGVyZSBpcyBidWcgaW4gTm9kZSBmcy5jcmVhdGVSZWFkU3RyZWFtXG4gICAgLy8gaXQgZG9lc24ndCByZXNwZWN0IGBlbmRgIG9wdGlvbnMgd2l0aG91dCBgc3RhcnRgIG9wdGlvbnNcbiAgICAvLyBGaXggaXQgd2hlbiBub2RlIGZpeGVzIGl0LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvNzgxOVxuICAgIGlmICh2YWx1ZS5lbmQgIT0gdW5kZWZpbmVkICYmIHZhbHVlLmVuZCAhPSBJbmZpbml0eSAmJiB2YWx1ZS5zdGFydCAhPSB1bmRlZmluZWQpIHtcblxuICAgICAgLy8gd2hlbiBlbmQgc3BlY2lmaWVkXG4gICAgICAvLyBubyBuZWVkIHRvIGNhbGN1bGF0ZSByYW5nZVxuICAgICAgLy8gaW5jbHVzaXZlLCBzdGFydHMgd2l0aCAwXG4gICAgICBjYWxsYmFjayhudWxsLCB2YWx1ZS5lbmQgKyAxIC0gKHZhbHVlLnN0YXJ0ID8gdmFsdWUuc3RhcnQgOiAwKSk7XG5cbiAgICAvLyBub3QgdGhhdCBmYXN0IHNub29weVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdGlsbCBuZWVkIHRvIGZldGNoIGZpbGUgc2l6ZSBmcm9tIGZzXG4gICAgICBmcy5zdGF0KHZhbHVlLnBhdGgsIGZ1bmN0aW9uKGVyciwgc3RhdCkge1xuXG4gICAgICAgIHZhciBmaWxlU2l6ZTtcblxuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgZmluYWwgc2l6ZSBiYXNlZCBvbiB0aGUgcmFuZ2Ugb3B0aW9uc1xuICAgICAgICBmaWxlU2l6ZSA9IHN0YXQuc2l6ZSAtICh2YWx1ZS5zdGFydCA/IHZhbHVlLnN0YXJ0IDogMCk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGZpbGVTaXplKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAvLyBvciBodHRwIHJlc3BvbnNlXG4gIH0gZWxzZSBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ2h0dHBWZXJzaW9uJykpIHtcbiAgICBjYWxsYmFjayhudWxsLCArdmFsdWUuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSk7XG5cbiAgLy8gb3IgcmVxdWVzdCBzdHJlYW0gaHR0cDovL2dpdGh1Yi5jb20vbWlrZWFsL3JlcXVlc3RcbiAgfSBlbHNlIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnaHR0cE1vZHVsZScpKSB7XG4gICAgLy8gd2FpdCB0aWxsIHJlc3BvbnNlIGNvbWUgYmFja1xuICAgIHZhbHVlLm9uKCdyZXNwb25zZScsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICB2YWx1ZS5wYXVzZSgpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgK3Jlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10pO1xuICAgIH0pO1xuICAgIHZhbHVlLnJlc3VtZSgpO1xuXG4gIC8vIHNvbWV0aGluZyBlbHNlXG4gIH0gZWxzZSB7XG4gICAgY2FsbGJhY2soJ1Vua25vd24gc3RyZWFtJyk7XG4gIH1cbn07XG5cbkZvcm1EYXRhLnByb3RvdHlwZS5fbXVsdGlQYXJ0SGVhZGVyID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlLCBvcHRpb25zKSB7XG4gIC8vIGN1c3RvbSBoZWFkZXIgc3BlY2lmaWVkIChhcyBzdHJpbmcpP1xuICAvLyBpdCBiZWNvbWVzIHJlc3BvbnNpYmxlIGZvciBib3VuZGFyeVxuICAvLyAoZS5nLiB0byBoYW5kbGUgZXh0cmEgQ1JMRnMgb24gLk5FVCBzZXJ2ZXJzKVxuICBpZiAodHlwZW9mIG9wdGlvbnMuaGVhZGVyID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuaGVhZGVyO1xuICB9XG5cbiAgdmFyIGNvbnRlbnREaXNwb3NpdGlvbiA9IHRoaXMuX2dldENvbnRlbnREaXNwb3NpdGlvbih2YWx1ZSwgb3B0aW9ucyk7XG4gIHZhciBjb250ZW50VHlwZSA9IHRoaXMuX2dldENvbnRlbnRUeXBlKHZhbHVlLCBvcHRpb25zKTtcblxuICB2YXIgY29udGVudHMgPSAnJztcbiAgdmFyIGhlYWRlcnMgID0ge1xuICAgIC8vIGFkZCBjdXN0b20gZGlzcG9zaXRpb24gYXMgdGhpcmQgZWxlbWVudCBvciBrZWVwIGl0IHR3byBlbGVtZW50cyBpZiBub3RcbiAgICAnQ29udGVudC1EaXNwb3NpdGlvbic6IFsnZm9ybS1kYXRhJywgJ25hbWU9XCInICsgZmllbGQgKyAnXCInXS5jb25jYXQoY29udGVudERpc3Bvc2l0aW9uIHx8IFtdKSxcbiAgICAvLyBpZiBubyBjb250ZW50IHR5cGUuIGFsbG93IGl0IHRvIGJlIGVtcHR5IGFycmF5XG4gICAgJ0NvbnRlbnQtVHlwZSc6IFtdLmNvbmNhdChjb250ZW50VHlwZSB8fCBbXSlcbiAgfTtcblxuICAvLyBhbGxvdyBjdXN0b20gaGVhZGVycy5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmhlYWRlciA9PSAnb2JqZWN0Jykge1xuICAgIHBvcHVsYXRlKGhlYWRlcnMsIG9wdGlvbnMuaGVhZGVyKTtcbiAgfVxuXG4gIHZhciBoZWFkZXI7XG4gIGZvciAodmFyIHByb3AgaW4gaGVhZGVycykge1xuICAgIGlmICghaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgaGVhZGVyID0gaGVhZGVyc1twcm9wXTtcblxuICAgIC8vIHNraXAgbnVsbGlzaCBoZWFkZXJzLlxuICAgIGlmIChoZWFkZXIgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gY29udmVydCBhbGwgaGVhZGVycyB0byBhcnJheXMuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGhlYWRlcikpIHtcbiAgICAgIGhlYWRlciA9IFtoZWFkZXJdO1xuICAgIH1cblxuICAgIC8vIGFkZCBub24tZW1wdHkgaGVhZGVycy5cbiAgICBpZiAoaGVhZGVyLmxlbmd0aCkge1xuICAgICAgY29udGVudHMgKz0gcHJvcCArICc6ICcgKyBoZWFkZXIuam9pbignOyAnKSArIEZvcm1EYXRhLkxJTkVfQlJFQUs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICctLScgKyB0aGlzLmdldEJvdW5kYXJ5KCkgKyBGb3JtRGF0YS5MSU5FX0JSRUFLICsgY29udGVudHMgKyBGb3JtRGF0YS5MSU5FX0JSRUFLO1xufTtcblxuRm9ybURhdGEucHJvdG90eXBlLl9nZXRDb250ZW50RGlzcG9zaXRpb24gPSBmdW5jdGlvbih2YWx1ZSwgb3B0aW9ucykge1xuXG4gIHZhciBmaWxlbmFtZVxuICAgICwgY29udGVudERpc3Bvc2l0aW9uXG4gICAgO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5maWxlcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBjdXN0b20gZmlsZXBhdGggZm9yIHJlbGF0aXZlIHBhdGhzXG4gICAgZmlsZW5hbWUgPSBwYXRoLm5vcm1hbGl6ZShvcHRpb25zLmZpbGVwYXRoKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gIH0gZWxzZSBpZiAob3B0aW9ucy5maWxlbmFtZSB8fCB2YWx1ZS5uYW1lIHx8IHZhbHVlLnBhdGgpIHtcbiAgICAvLyBjdXN0b20gZmlsZW5hbWUgdGFrZSBwcmVjZWRlbmNlXG4gICAgLy8gZm9ybWlkYWJsZSBhbmQgdGhlIGJyb3dzZXIgYWRkIGEgbmFtZSBwcm9wZXJ0eVxuICAgIC8vIGZzLSBhbmQgcmVxdWVzdC0gc3RyZWFtcyBoYXZlIHBhdGggcHJvcGVydHlcbiAgICBmaWxlbmFtZSA9IHBhdGguYmFzZW5hbWUob3B0aW9ucy5maWxlbmFtZSB8fCB2YWx1ZS5uYW1lIHx8IHZhbHVlLnBhdGgpO1xuICB9IGVsc2UgaWYgKHZhbHVlLnJlYWRhYmxlICYmIHZhbHVlLmhhc093blByb3BlcnR5KCdodHRwVmVyc2lvbicpKSB7XG4gICAgLy8gb3IgdHJ5IGh0dHAgcmVzcG9uc2VcbiAgICBmaWxlbmFtZSA9IHBhdGguYmFzZW5hbWUodmFsdWUuY2xpZW50Ll9odHRwTWVzc2FnZS5wYXRoIHx8ICcnKTtcbiAgfVxuXG4gIGlmIChmaWxlbmFtZSkge1xuICAgIGNvbnRlbnREaXNwb3NpdGlvbiA9ICdmaWxlbmFtZT1cIicgKyBmaWxlbmFtZSArICdcIic7XG4gIH1cblxuICByZXR1cm4gY29udGVudERpc3Bvc2l0aW9uO1xufTtcblxuRm9ybURhdGEucHJvdG90eXBlLl9nZXRDb250ZW50VHlwZSA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zKSB7XG5cbiAgLy8gdXNlIGN1c3RvbSBjb250ZW50LXR5cGUgYWJvdmUgYWxsXG4gIHZhciBjb250ZW50VHlwZSA9IG9wdGlvbnMuY29udGVudFR5cGU7XG5cbiAgLy8gb3IgdHJ5IGBuYW1lYCBmcm9tIGZvcm1pZGFibGUsIGJyb3dzZXJcbiAgaWYgKCFjb250ZW50VHlwZSAmJiB2YWx1ZS5uYW1lKSB7XG4gICAgY29udGVudFR5cGUgPSBtaW1lLmxvb2t1cCh2YWx1ZS5uYW1lKTtcbiAgfVxuXG4gIC8vIG9yIHRyeSBgcGF0aGAgZnJvbSBmcy0sIHJlcXVlc3QtIHN0cmVhbXNcbiAgaWYgKCFjb250ZW50VHlwZSAmJiB2YWx1ZS5wYXRoKSB7XG4gICAgY29udGVudFR5cGUgPSBtaW1lLmxvb2t1cCh2YWx1ZS5wYXRoKTtcbiAgfVxuXG4gIC8vIG9yIGlmIGl0J3MgaHR0cC1yZXBvbnNlXG4gIGlmICghY29udGVudFR5cGUgJiYgdmFsdWUucmVhZGFibGUgJiYgdmFsdWUuaGFzT3duUHJvcGVydHkoJ2h0dHBWZXJzaW9uJykpIHtcbiAgICBjb250ZW50VHlwZSA9IHZhbHVlLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddO1xuICB9XG5cbiAgLy8gb3IgZ3Vlc3MgaXQgZnJvbSB0aGUgZmlsZXBhdGggb3IgZmlsZW5hbWVcbiAgaWYgKCFjb250ZW50VHlwZSAmJiAob3B0aW9ucy5maWxlcGF0aCB8fCBvcHRpb25zLmZpbGVuYW1lKSkge1xuICAgIGNvbnRlbnRUeXBlID0gbWltZS5sb29rdXAob3B0aW9ucy5maWxlcGF0aCB8fCBvcHRpb25zLmZpbGVuYW1lKTtcbiAgfVxuXG4gIC8vIGZhbGxiYWNrIHRvIHRoZSBkZWZhdWx0IGNvbnRlbnQgdHlwZSBpZiBgdmFsdWVgIGlzIG5vdCBzaW1wbGUgdmFsdWVcbiAgaWYgKCFjb250ZW50VHlwZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICBjb250ZW50VHlwZSA9IEZvcm1EYXRhLkRFRkFVTFRfQ09OVEVOVF9UWVBFO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRlbnRUeXBlO1xufTtcblxuRm9ybURhdGEucHJvdG90eXBlLl9tdWx0aVBhcnRGb290ZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG5leHQpIHtcbiAgICB2YXIgZm9vdGVyID0gRm9ybURhdGEuTElORV9CUkVBSztcblxuICAgIHZhciBsYXN0UGFydCA9ICh0aGlzLl9zdHJlYW1zLmxlbmd0aCA9PT0gMCk7XG4gICAgaWYgKGxhc3RQYXJ0KSB7XG4gICAgICBmb290ZXIgKz0gdGhpcy5fbGFzdEJvdW5kYXJ5KCk7XG4gICAgfVxuXG4gICAgbmV4dChmb290ZXIpO1xuICB9LmJpbmQodGhpcyk7XG59O1xuXG5Gb3JtRGF0YS5wcm90b3R5cGUuX2xhc3RCb3VuZGFyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJy0tJyArIHRoaXMuZ2V0Qm91bmRhcnkoKSArICctLScgKyBGb3JtRGF0YS5MSU5FX0JSRUFLO1xufTtcblxuRm9ybURhdGEucHJvdG90eXBlLmdldEhlYWRlcnMgPSBmdW5jdGlvbih1c2VySGVhZGVycykge1xuICB2YXIgaGVhZGVyO1xuICB2YXIgZm9ybUhlYWRlcnMgPSB7XG4gICAgJ2NvbnRlbnQtdHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT0nICsgdGhpcy5nZXRCb3VuZGFyeSgpXG4gIH07XG5cbiAgZm9yIChoZWFkZXIgaW4gdXNlckhlYWRlcnMpIHtcbiAgICBpZiAodXNlckhlYWRlcnMuaGFzT3duUHJvcGVydHkoaGVhZGVyKSkge1xuICAgICAgZm9ybUhlYWRlcnNbaGVhZGVyLnRvTG93ZXJDYXNlKCldID0gdXNlckhlYWRlcnNbaGVhZGVyXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm9ybUhlYWRlcnM7XG59O1xuXG5Gb3JtRGF0YS5wcm90b3R5cGUuc2V0Qm91bmRhcnkgPSBmdW5jdGlvbihib3VuZGFyeSkge1xuICB0aGlzLl9ib3VuZGFyeSA9IGJvdW5kYXJ5O1xufTtcblxuRm9ybURhdGEucHJvdG90eXBlLmdldEJvdW5kYXJ5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5fYm91bmRhcnkpIHtcbiAgICB0aGlzLl9nZW5lcmF0ZUJvdW5kYXJ5KCk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fYm91bmRhcnk7XG59O1xuXG5Gb3JtRGF0YS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkYXRhQnVmZmVyID0gbmV3IEJ1ZmZlci5hbGxvYyggMCApO1xuICB2YXIgYm91bmRhcnkgPSB0aGlzLmdldEJvdW5kYXJ5KCk7XG5cbiAgLy8gQ3JlYXRlIHRoZSBmb3JtIGNvbnRlbnQuIEFkZCBMaW5lIGJyZWFrcyB0byB0aGUgZW5kIG9mIGRhdGEuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9zdHJlYW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9zdHJlYW1zW2ldICE9PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgIC8vIEFkZCBjb250ZW50IHRvIHRoZSBidWZmZXIuXG4gICAgICBpZihCdWZmZXIuaXNCdWZmZXIodGhpcy5fc3RyZWFtc1tpXSkpIHtcbiAgICAgICAgZGF0YUJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoIFtkYXRhQnVmZmVyLCB0aGlzLl9zdHJlYW1zW2ldXSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIGRhdGFCdWZmZXIgPSBCdWZmZXIuY29uY2F0KCBbZGF0YUJ1ZmZlciwgQnVmZmVyLmZyb20odGhpcy5fc3RyZWFtc1tpXSldKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGJyZWFrIGFmdGVyIGNvbnRlbnQuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX3N0cmVhbXNbaV0gIT09ICdzdHJpbmcnIHx8IHRoaXMuX3N0cmVhbXNbaV0uc3Vic3RyaW5nKCAyLCBib3VuZGFyeS5sZW5ndGggKyAyICkgIT09IGJvdW5kYXJ5KSB7XG4gICAgICAgIGRhdGFCdWZmZXIgPSBCdWZmZXIuY29uY2F0KCBbZGF0YUJ1ZmZlciwgQnVmZmVyLmZyb20oRm9ybURhdGEuTElORV9CUkVBSyldICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIHRoZSBmb290ZXIgYW5kIHJldHVybiB0aGUgQnVmZmVyIG9iamVjdC5cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoIFtkYXRhQnVmZmVyLCBCdWZmZXIuZnJvbSh0aGlzLl9sYXN0Qm91bmRhcnkoKSldICk7XG59O1xuXG5Gb3JtRGF0YS5wcm90b3R5cGUuX2dlbmVyYXRlQm91bmRhcnkgPSBmdW5jdGlvbigpIHtcbiAgLy8gVGhpcyBnZW5lcmF0ZXMgYSA1MCBjaGFyYWN0ZXIgYm91bmRhcnkgc2ltaWxhciB0byB0aG9zZSB1c2VkIGJ5IEZpcmVmb3guXG4gIC8vIFRoZXkgYXJlIG9wdGltaXplZCBmb3IgYm95ZXItbW9vcmUgcGFyc2luZy5cbiAgdmFyIGJvdW5kYXJ5ID0gJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgYm91bmRhcnkgKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApLnRvU3RyaW5nKDE2KTtcbiAgfVxuXG4gIHRoaXMuX2JvdW5kYXJ5ID0gYm91bmRhcnk7XG59O1xuXG4vLyBOb3RlOiBnZXRMZW5ndGhTeW5jIERPRVNOJ1QgY2FsY3VsYXRlIHN0cmVhbXMgbGVuZ3RoXG4vLyBBcyB3b3JrYXJvdW5kIG9uZSBjYW4gY2FsY3VsYXRlIGZpbGUgc2l6ZSBtYW51YWxseVxuLy8gYW5kIGFkZCBpdCBhcyBrbm93bkxlbmd0aCBvcHRpb25cbkZvcm1EYXRhLnByb3RvdHlwZS5nZXRMZW5ndGhTeW5jID0gZnVuY3Rpb24oKSB7XG4gIHZhciBrbm93bkxlbmd0aCA9IHRoaXMuX292ZXJoZWFkTGVuZ3RoICsgdGhpcy5fdmFsdWVMZW5ndGg7XG5cbiAgLy8gRG9uJ3QgZ2V0IGNvbmZ1c2VkLCB0aGVyZSBhcmUgMyBcImludGVybmFsXCIgc3RyZWFtcyBmb3IgZWFjaCBrZXl2YWwgcGFpclxuICAvLyBzbyBpdCBiYXNpY2FsbHkgY2hlY2tzIGlmIHRoZXJlIGlzIGFueSB2YWx1ZSBhZGRlZCB0byB0aGUgZm9ybVxuICBpZiAodGhpcy5fc3RyZWFtcy5sZW5ndGgpIHtcbiAgICBrbm93bkxlbmd0aCArPSB0aGlzLl9sYXN0Qm91bmRhcnkoKS5sZW5ndGg7XG4gIH1cblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZm9ybS1kYXRhL2Zvcm0tZGF0YS9pc3N1ZXMvNDBcbiAgaWYgKCF0aGlzLmhhc0tub3duTGVuZ3RoKCkpIHtcbiAgICAvLyBTb21lIGFzeW5jIGxlbmd0aCByZXRyaWV2ZXJzIGFyZSBwcmVzZW50XG4gICAgLy8gdGhlcmVmb3JlIHN5bmNocm9ub3VzIGxlbmd0aCBjYWxjdWxhdGlvbiBpcyBmYWxzZS5cbiAgICAvLyBQbGVhc2UgdXNlIGdldExlbmd0aChjYWxsYmFjaykgdG8gZ2V0IHByb3BlciBsZW5ndGhcbiAgICB0aGlzLl9lcnJvcihuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgcHJvcGVyIGxlbmd0aCBpbiBzeW5jaHJvbm91cyB3YXkuJykpO1xuICB9XG5cbiAgcmV0dXJuIGtub3duTGVuZ3RoO1xufTtcblxuLy8gUHVibGljIEFQSSB0byBjaGVjayBpZiBsZW5ndGggb2YgYWRkZWQgdmFsdWVzIGlzIGtub3duXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZm9ybS1kYXRhL2Zvcm0tZGF0YS9pc3N1ZXMvMTk2XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZm9ybS1kYXRhL2Zvcm0tZGF0YS9pc3N1ZXMvMjYyXG5Gb3JtRGF0YS5wcm90b3R5cGUuaGFzS25vd25MZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhhc0tub3duTGVuZ3RoID0gdHJ1ZTtcblxuICBpZiAodGhpcy5fdmFsdWVzVG9NZWFzdXJlLmxlbmd0aCkge1xuICAgIGhhc0tub3duTGVuZ3RoID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaGFzS25vd25MZW5ndGg7XG59O1xuXG5Gb3JtRGF0YS5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oY2IpIHtcbiAgdmFyIGtub3duTGVuZ3RoID0gdGhpcy5fb3ZlcmhlYWRMZW5ndGggKyB0aGlzLl92YWx1ZUxlbmd0aDtcblxuICBpZiAodGhpcy5fc3RyZWFtcy5sZW5ndGgpIHtcbiAgICBrbm93bkxlbmd0aCArPSB0aGlzLl9sYXN0Qm91bmRhcnkoKS5sZW5ndGg7XG4gIH1cblxuICBpZiAoIXRoaXMuX3ZhbHVlc1RvTWVhc3VyZS5sZW5ndGgpIHtcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLmJpbmQodGhpcywgbnVsbCwga25vd25MZW5ndGgpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBhc3luY2tpdC5wYXJhbGxlbCh0aGlzLl92YWx1ZXNUb01lYXN1cmUsIHRoaXMuX2xlbmd0aFJldHJpZXZlciwgZnVuY3Rpb24oZXJyLCB2YWx1ZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBjYihlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGxlbmd0aCkge1xuICAgICAga25vd25MZW5ndGggKz0gbGVuZ3RoO1xuICAgIH0pO1xuXG4gICAgY2IobnVsbCwga25vd25MZW5ndGgpO1xuICB9KTtcbn07XG5cbkZvcm1EYXRhLnByb3RvdHlwZS5zdWJtaXQgPSBmdW5jdGlvbihwYXJhbXMsIGNiKSB7XG4gIHZhciByZXF1ZXN0XG4gICAgLCBvcHRpb25zXG4gICAgLCBkZWZhdWx0cyA9IHttZXRob2Q6ICdwb3N0J31cbiAgICA7XG5cbiAgLy8gcGFyc2UgcHJvdmlkZWQgdXJsIGlmIGl0J3Mgc3RyaW5nXG4gIC8vIG9yIHRyZWF0IGl0IGFzIG9wdGlvbnMgb2JqZWN0XG4gIGlmICh0eXBlb2YgcGFyYW1zID09ICdzdHJpbmcnKSB7XG5cbiAgICBwYXJhbXMgPSBwYXJzZVVybChwYXJhbXMpO1xuICAgIG9wdGlvbnMgPSBwb3B1bGF0ZSh7XG4gICAgICBwb3J0OiBwYXJhbXMucG9ydCxcbiAgICAgIHBhdGg6IHBhcmFtcy5wYXRobmFtZSxcbiAgICAgIGhvc3Q6IHBhcmFtcy5ob3N0bmFtZSxcbiAgICAgIHByb3RvY29sOiBwYXJhbXMucHJvdG9jb2xcbiAgICB9LCBkZWZhdWx0cyk7XG5cbiAgLy8gdXNlIGN1c3RvbSBwYXJhbXNcbiAgfSBlbHNlIHtcblxuICAgIG9wdGlvbnMgPSBwb3B1bGF0ZShwYXJhbXMsIGRlZmF1bHRzKTtcbiAgICAvLyBpZiBubyBwb3J0IHByb3ZpZGVkIHVzZSBkZWZhdWx0IG9uZVxuICAgIGlmICghb3B0aW9ucy5wb3J0KSB7XG4gICAgICBvcHRpb25zLnBvcnQgPSBvcHRpb25zLnByb3RvY29sID09ICdodHRwczonID8gNDQzIDogODA7XG4gICAgfVxuICB9XG5cbiAgLy8gcHV0IHRoYXQgZ29vZCBjb2RlIGluIGdldEhlYWRlcnMgdG8gc29tZSB1c2VcbiAgb3B0aW9ucy5oZWFkZXJzID0gdGhpcy5nZXRIZWFkZXJzKHBhcmFtcy5oZWFkZXJzKTtcblxuICAvLyBodHRwcyBpZiBzcGVjaWZpZWQsIGZhbGxiYWNrIHRvIGh0dHAgaW4gYW55IG90aGVyIGNhc2VcbiAgaWYgKG9wdGlvbnMucHJvdG9jb2wgPT0gJ2h0dHBzOicpIHtcbiAgICByZXF1ZXN0ID0gaHR0cHMucmVxdWVzdChvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICByZXF1ZXN0ID0gaHR0cC5yZXF1ZXN0KG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gZ2V0IGNvbnRlbnQgbGVuZ3RoIGFuZCBmaXJlIGF3YXlcbiAgdGhpcy5nZXRMZW5ndGgoZnVuY3Rpb24oZXJyLCBsZW5ndGgpIHtcbiAgICBpZiAoZXJyICYmIGVyciAhPT0gJ1Vua25vd24gc3RyZWFtJykge1xuICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhZGQgY29udGVudCBsZW5ndGhcbiAgICBpZiAobGVuZ3RoKSB7XG4gICAgICByZXF1ZXN0LnNldEhlYWRlcignQ29udGVudC1MZW5ndGgnLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIHRoaXMucGlwZShyZXF1ZXN0KTtcbiAgICBpZiAoY2IpIHtcbiAgICAgIHZhciBvblJlc3BvbnNlO1xuXG4gICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZXJyb3IsIHJlc3BvbmNlKSB7XG4gICAgICAgIHJlcXVlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgY2FsbGJhY2spO1xuICAgICAgICByZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKCdyZXNwb25zZScsIG9uUmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiBjYi5jYWxsKHRoaXMsIGVycm9yLCByZXNwb25jZSk7XG4gICAgICB9O1xuXG4gICAgICBvblJlc3BvbnNlID0gY2FsbGJhY2suYmluZCh0aGlzLCBudWxsKTtcblxuICAgICAgcmVxdWVzdC5vbignZXJyb3InLCBjYWxsYmFjayk7XG4gICAgICByZXF1ZXN0Lm9uKCdyZXNwb25zZScsIG9uUmVzcG9uc2UpO1xuICAgIH1cbiAgfS5iaW5kKHRoaXMpKTtcblxuICByZXR1cm4gcmVxdWVzdDtcbn07XG5cbkZvcm1EYXRhLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcbiAgaWYgKCF0aGlzLmVycm9yKSB7XG4gICAgdGhpcy5lcnJvciA9IGVycjtcbiAgICB0aGlzLnBhdXNlKCk7XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cbn07XG5cbkZvcm1EYXRhLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICdbb2JqZWN0IEZvcm1EYXRhXSc7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFJQSxjQUFjLEdBQUdDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUMvQyxJQUFJQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDMUIsSUFBSUUsSUFBSSxHQUFHRixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzFCLElBQUlHLElBQUksR0FBR0gsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUMxQixJQUFJSSxLQUFLLEdBQUdKLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDNUIsSUFBSUssUUFBUSxHQUFHTCxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUNNLEtBQUs7QUFDbkMsSUFBSUMsRUFBRSxHQUFHUCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3RCLElBQUlRLE1BQU0sR0FBR1IsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDUSxNQUFNO0FBQ3JDLElBQUlDLElBQUksR0FBR1QsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUNoQyxJQUFJVSxRQUFRLEdBQUdWLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDbEMs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