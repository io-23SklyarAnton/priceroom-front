{"version":3,"names":["_index","_interopRequireDefault","require","_utils","_isURLSameOrigin","_cookies","_buildFullPath","_mergeConfig","_AxiosHeaders","_buildURL","e","__esModule","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","Array","isArray","_arrayLikeToArray","_toArray","_arrayWithHoles","_nonIterableRest","a","t","toString","call","slice","constructor","name","from","test","length","n","Symbol","iterator","_default","exports","config","newConfig","mergeConfig","data","withXSRFToken","xsrfHeaderName","xsrfCookieName","headers","auth","AxiosHeaders","url","buildURL","buildFullPath","baseURL","params","paramsSerializer","set","btoa","username","password","unescape","encodeURIComponent","contentType","utils","isFormData","platform","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","setContentType","undefined","getContentType","_ref","split","map","token","trim","filter","Boolean","_ref2","type","tokens","concat","join","isFunction","isURLSameOrigin","xsrfValue","cookies","read"],"sources":["resolveConfig.js"],"sourcesContent":["import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n"],"mappings":"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","ignoreList":[]}